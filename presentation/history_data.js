var westSocDev = ["2000CE 250.00 156.37 250.00 250.00 906.37", "1900CE 100.25 61.80 5.00 3.19 170.24", "1800CE 41.41 8.43 0.50 0.29 50.63", "1700CE 34.87 5.62 0.35 0.14 40.98", "1600CE 31.06 3.75 0.18 0.07 35.60", "1500CE 29.42 3.75 0.13 0.05 33.35", "1400CE 28.33 1.17 0.11 0.04 29.65", "1300CE 29.42 3.75 0.09 0.04 33.31", "1200CE 28.88 2.34 0.08 0.04 31.33", "1100CE 28.33 2.34 0.07 0.02 30.76", "1000CE 28.33 1.87 0.06 0.02 30.28", "900CE 27.24 1.64 0.05 0.02 28.95", "800CE 27.24 1.64 0.04 0.02 28.94", "700CE 27.24 1.17 0.04 0.02 28.47", "600CE 28.33 1.41 0.04 0.02 29.80", "500CE 30.51 4.23 0.07 0.03 34.84", "400CE 31.06 7.49 0.09 0.03 38.67", "300CE 31.60 7.49 0.10 0.03 39.22", "200CE 32.69 9.36 0.11 0.04 42.20", "100CE 33.78 9.36 0.12 0.04 43.30", "1BCE/CE 33.78 9.36 0.12 0.04 43.30", "100BCE 31.06 3.75 0.11 0.04 35.50", "200BCE 29.42 2.81 0.10 0.03 32.36", "300BCE 28.33 1.40 0.09 0.03 29.85", "400BCE 26.15 1.40 0.09 0.03 27.67", "500BCE 25.06 1.40 0.08 0.03 26.56", "600BCE 23.97 1.17 0.07 0.02 25.23", "700BCE 23.43 0.94 0.07 0.02 24.45", "800BCE 22.88 0.70 0.05 0.02 23.65", "900BCE 22.34 0.47 0.04 0.02 22.87", "1000BCE 21.79 0.47 0.03 0.01 22.30", "1100BCE 22.34 0.47 0.03 0.01 22.85", "1200BCE 22.88 0.75 0.04 0.02 23.69", "1300BCE 23.43 0.75 0.03 0.02 24.23", "1400BCE 22.88 0.75 0.03 0.02 23.68", "1500BCE 22.34 0.70 0.03 0.02 23.08", "1750BCE 20.65 0.61 0.02 0.02 21.30", "2000BCE 18.52 0.56 0.01 0.02 19.11", "2250BCE 17.44 0.33 0.01 0.01 17.79", "2500BCE 15.26 0.47 0.01 0.01 16.29", "3000BCE 13.08 0.42 0.01 0.01 13.52", "3500BCE 11.99 0.09 0.00 0.00 12.98190", "4000BCE 10.90 0.05 0.00 0.00 10.95", "5000BCE 8.72 0.04 0.00 0.00 8.76", "6000BCE 7.63 0.03 0.00 0.00 7.66", "7000BCE 7.08 0.01 0.00 0.00 7.09", "8000BCE 6.54 0.00 0.00 0.00 6.54", "9000BCE 5.99 0.00 0.00 0.00 5.99", "10,000BCE 5.45 0.00 0.00 0.00 5.45", "11,000BCE 5.45 0.00 0.00 0.00 5.45", "12,000BCE 4.90 0.00 0.00 0.00 4.90", "13,000BCE 4.36 0.00 0.00 0.00 4.36", "14,000BCE 4.36 0.00 0.00 0.00 4.36"];

var parseDate = function(s) {
	var match = /(\d+)(.*)/.exec(s);
	var year =parseInt(match[1],10); 
	return (match[2] === "BCE" ? -year : year);
};

westSocDev = westSocDev.map(function(l) {
	l = l.replace(",","").split(" ");
	return [parseDate(l[0])].concat(l.slice(1).map(parseFloat));
});

westSocDev = westSocDev.map(function(r) {
	return ["date","eng","org","war","it","sum"].reduce(function(cats,d,i) {
		cats[d] = r[i];
		return cats;
	},{});
});


var socDev = {org:[],war:[],it:[],sum:[],eng:[]};
socDev.eng.name = "Energy Capture";
socDev.org.name = "Organisation";
socDev.war.name = "War";
socDev.it.name = "Information Technology";
socDev.sum.name = "Sum";
westSocDev.map(function(r) {
	["eng","org","war","it","sum"].forEach(function(k) {
		socDev[k].push({
			date: r.date,
			value: Math.max(r[k],1e-6)
		});
	});
});

var dateWpop = [
	[-9000,3],
	[-8000,5],
	[-7000,7],
	[-6000,10],
	[-5000,15],
	[-4000,20],
	[-3000,25],
	[-2000,35],
	[-1000,50],
	[-0500,100],
	[0000,200],
	[1000,310],
	[1750,791],
	[1800,978],
	[1850,1262],
	[1900,1650],
	[1950,2519],
	[1955,2756],
	[1960,2982],
	[1965,3335],
	[1970,3692],
	[1975,4068],
	[1980,4435],
	[1985,4831],
	[1990,5263],
	[1995,5674],
	[2000,6070],
	[2005,6454],
	[2010,6972]
].map(function(r) {
	return {
		date: r[0],
		value: r[1]
	}
});

dateWpop.name = "World population";
